{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport View from \"react-native-web/dist/exports/View\";\nimport { auth } from \"../../firebase\";\nimport { signOut } from 'firebase/auth';\nimport React, { useEffect, useState, useRef } from 'react';\nimport { NavigationContainer, useNavigation } from '@react-navigation/native';\nimport { Camera } from 'react-native-vision-camera';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar MyCamera = function MyCamera() {\n  var camera = useRef(null);\n  var _useState = useState(null),\n    _useState2 = _slicedToArray(_useState, 2),\n    image = _useState2[0],\n    setImage = _useState2[1];\n  useEffect(function () {\n    function getPermission() {\n      return _getPermission.apply(this, arguments);\n    }\n    function _getPermission() {\n      _getPermission = _asyncToGenerator(function* () {\n        var permission = yield Camera.requestCameraPermission();\n        console.log('camera pormission status: ${permission}');\n        if (permission === 'denied') yield Linking.openSettings();\n      });\n      return _getPermission.apply(this, arguments);\n    }\n    getPermission();\n  }, []);\n  var cupturePhoto = function () {\n    var _ref = _asyncToGenerator(function* () {\n      if (camera.current !== null) {\n        var photo = yield camera.current.takePhoto({});\n        setImageSource(photo.path);\n        setShowCamera(false);\n        console.log(photo.path);\n      } else {\n        console.log(\"namera not conected\");\n      }\n    });\n    return function cupturePhoto() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n  return _jsxs(View, {\n    children: [_jsx(Text, {\n      children: \"Hello\"\n    }), _jsx(TouchableOpacity, {\n      style: styles.button,\n      onPress: cupturePhoto,\n      children: _jsx(Text, {\n        style: styles.buttonText,\n        children: \"Take a Picture\"\n      })\n    }), image && _jsx(Image, {\n      source: {\n        uri: image\n      },\n      style: {\n        flex: 1\n      }\n    })]\n  });\n};\nexport default MyCamera;\nvar styles = StyleSheet.create({\n  button: {\n    borderWidth: 2,\n    width: '40%',\n    paddingHorizontal: 8,\n    paddingVertical: 6,\n    borderRadius: 50,\n    alignSelf: 'center',\n    marginHorizontal: '1%',\n    marginBottom: 6,\n    minWidth: '48%',\n    textAlign: 'center',\n    backgroundColor: \"#daa520\"\n  },\n  buttonText: {\n    textAlign: 'center',\n    justifyContent: 'center',\n    fontWeight: 'bold',\n    fontSize: 25\n  }\n});","map":{"version":3,"names":["auth","signOut","React","useEffect","useState","useRef","NavigationContainer","useNavigation","Camera","MyCamera","camera","image","setImage","getPermission","permission","requestCameraPermission","console","log","Linking","openSettings","cupturePhoto","current","photo","takePhoto","setImageSource","path","setShowCamera","styles","button","buttonText","uri","flex","StyleSheet","create","borderWidth","width","paddingHorizontal","paddingVertical","borderRadius","alignSelf","marginHorizontal","marginBottom","minWidth","textAlign","backgroundColor","justifyContent","fontWeight","fontSize"],"sources":["C:/Users/Chen Moskovitz/Desktop/the best final project ever/final-project/iccam/pages/Camera/Camera.js"],"sourcesContent":["import { StyleSheet, Text, TouchableOpacity, View } from 'react-native'\r\nimport { auth } from '../../firebase'\r\nimport { signOut } from 'firebase/auth'\r\nimport React, {useEffect, useState, useRef} from 'react';\r\nimport { NavigationContainer, useNavigation } from '@react-navigation/native'\r\nimport { Camera } from 'react-native-vision-camera';\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst MyCamera = () => {\r\n\r\n    const camera = useRef(null);\r\n    const [image, setImage] = useState(null);\r\n\r\n\r\n    useEffect(() => {\r\n        async function getPermission(){\r\n          const permission = await Camera.requestCameraPermission();\r\n          console.log('camera pormission status: ${permission}');\r\n          if(permission === 'denied') await Linking.openSettings();\r\n        }\r\n        getPermission();\r\n      },[]);\r\n\r\n  const cupturePhoto = async () => {\r\n    if (camera.current !== null){\r\n        const photo = await camera.current.takePhoto({});\r\n        setImageSource(photo.path);\r\n        setShowCamera(false);\r\n        console.log(photo.path);\r\n    }\r\n    else{\r\n        console.log(\"namera not conected\")\r\n    }\r\n  }\r\n\r\n\r\n  \r\n\r\n//  const takePicture = async () => {\r\n//     if (camera.current) {\r\n//       const photo = await camera.current.takePicture();\r\n//       console.log(photo.uri);\r\n      \r\n\r\n//     }\r\n//   }\r\n\r\n  return (\r\n    <View>\r\n        <Text>Hello</Text>\r\n        <TouchableOpacity style={styles.button} onPress={cupturePhoto}>\r\n        <Text style={styles.buttonText}>Take a Picture</Text>\r\n      </TouchableOpacity>\r\n      {image && <Image source={{ uri: image }} style={{ flex: 1 }} />}\r\n      \r\n    </View>\r\n   \r\n  )\r\n}\r\n\r\nexport default MyCamera\r\n\r\nconst styles = StyleSheet.create({\r\n    button: {\r\n        borderWidth: 2,\r\n        width: '40%',\r\n        paddingHorizontal: 8,\r\n        paddingVertical: 6,\r\n        borderRadius: 50,\r\n        \r\n        alignSelf: 'center',\r\n        marginHorizontal: '1%',\r\n        marginBottom: 6,\r\n        minWidth: '48%',\r\n        textAlign: 'center',\r\n        backgroundColor: `#daa520`,\r\n      },\r\n      buttonText: {\r\n        textAlign: 'center',\r\n        justifyContent: 'center',\r\n        fontWeight: 'bold',\r\n        fontSize: 25,\r\n      },\r\n})"],"mappings":";;;;;;AACA,SAASA,IAAI;AACb,SAASC,OAAO,QAAQ,eAAe;AACvC,OAAOC,KAAK,IAAGC,SAAS,EAAEC,QAAQ,EAAEC,MAAM,QAAO,OAAO;AACxD,SAASC,mBAAmB,EAAEC,aAAa,QAAQ,0BAA0B;AAC7E,SAASC,MAAM,QAAQ,4BAA4B;AAAC;AAAA;AAOpD,IAAMC,QAAQ,GAAG,SAAXA,QAAQ,GAAS;EAEnB,IAAMC,MAAM,GAAGL,MAAM,CAAC,IAAI,CAAC;EAC3B,gBAA0BD,QAAQ,CAAC,IAAI,CAAC;IAAA;IAAjCO,KAAK;IAAEC,QAAQ;EAGtBT,SAAS,CAAC,YAAM;IAAA,SACGU,aAAa;MAAA;IAAA;IAAA;MAAA,mCAA5B,aAA8B;QAC5B,IAAMC,UAAU,SAASN,MAAM,CAACO,uBAAuB,EAAE;QACzDC,OAAO,CAACC,GAAG,CAAC,yCAAyC,CAAC;QACtD,IAAGH,UAAU,KAAK,QAAQ,EAAE,MAAMI,OAAO,CAACC,YAAY,EAAE;MAC1D,CAAC;MAAA;IAAA;IACDN,aAAa,EAAE;EACjB,CAAC,EAAC,EAAE,CAAC;EAET,IAAMO,YAAY;IAAA,6BAAG,aAAY;MAC/B,IAAIV,MAAM,CAACW,OAAO,KAAK,IAAI,EAAC;QACxB,IAAMC,KAAK,SAASZ,MAAM,CAACW,OAAO,CAACE,SAAS,CAAC,CAAC,CAAC,CAAC;QAChDC,cAAc,CAACF,KAAK,CAACG,IAAI,CAAC;QAC1BC,aAAa,CAAC,KAAK,CAAC;QACpBV,OAAO,CAACC,GAAG,CAACK,KAAK,CAACG,IAAI,CAAC;MAC3B,CAAC,MACG;QACAT,OAAO,CAACC,GAAG,CAAC,qBAAqB,CAAC;MACtC;IACF,CAAC;IAAA,gBAVKG,YAAY;MAAA;IAAA;EAAA,GAUjB;EAcD,OACE,MAAC,IAAI;IAAA,WACD,KAAC,IAAI;MAAA,UAAC;IAAK,EAAO,EAClB,KAAC,gBAAgB;MAAC,KAAK,EAAEO,MAAM,CAACC,MAAO;MAAC,OAAO,EAAER,YAAa;MAAA,UAC9D,KAAC,IAAI;QAAC,KAAK,EAAEO,MAAM,CAACE,UAAW;QAAA,UAAC;MAAc;IAAO,EACpC,EAClBlB,KAAK,IAAI,KAAC,KAAK;MAAC,MAAM,EAAE;QAAEmB,GAAG,EAAEnB;MAAM,CAAE;MAAC,KAAK,EAAE;QAAEoB,IAAI,EAAE;MAAE;IAAE,EAAG;EAAA,EAE1D;AAGX,CAAC;AAED,eAAetB,QAAQ;AAEvB,IAAMkB,MAAM,GAAGK,UAAU,CAACC,MAAM,CAAC;EAC7BL,MAAM,EAAE;IACJM,WAAW,EAAE,CAAC;IACdC,KAAK,EAAE,KAAK;IACZC,iBAAiB,EAAE,CAAC;IACpBC,eAAe,EAAE,CAAC;IAClBC,YAAY,EAAE,EAAE;IAEhBC,SAAS,EAAE,QAAQ;IACnBC,gBAAgB,EAAE,IAAI;IACtBC,YAAY,EAAE,CAAC;IACfC,QAAQ,EAAE,KAAK;IACfC,SAAS,EAAE,QAAQ;IACnBC,eAAe;EACjB,CAAC;EACDf,UAAU,EAAE;IACVc,SAAS,EAAE,QAAQ;IACnBE,cAAc,EAAE,QAAQ;IACxBC,UAAU,EAAE,MAAM;IAClBC,QAAQ,EAAE;EACZ;AACN,CAAC,CAAC"},"metadata":{},"sourceType":"module"}